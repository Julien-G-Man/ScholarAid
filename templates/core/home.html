{% extends "base.html" %}

{% block content %}
<style>
    /* Google Font Import */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    body {
        font-family: 'Poppins', sans-serif;
    }

    /* Primary Color Palette */
    :root {
        --primary-brand-red: #A31F34;
        --secondary-light: #FCE8E9;
    }

    .text-primary-brand { color: var(--primary-brand-red); }
    .bg-light-brand { background-color: var(--secondary-light) !important; }
    .btn-primary-brand {
        background-color: var(--primary-brand-red);
        color: white;
        border: none;
    }
    .btn-primary-brand:hover {
        background-color: #8E1B2C;
        color: white;
    }
    .btn-outline-primary-brand {
        color: var(--primary-brand-red);
        border: 2px solid var(--primary-brand-red);
        background-color: transparent;
    }
    .btn-outline-primary-brand:hover {
        background-color: var(--primary-brand-red);
        color: white;
    }

    /* Hero Section */
    .hero {
        background: linear-gradient(rgba(163, 31, 52, 0.9), rgba(163, 31, 52, 0.9)),
                    url("https://source.unsplash.com/1600x600/?students,library") center/cover no-repeat;
        min-height: 80vh;
        display: flex;
        align-items: center;
        text-align: center;
        color: white;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* Feature Cards */
    .feature-box {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        border-radius: 1rem;
    }
    .feature-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(163, 31, 52, 0.15);
    }

    /* Scholarship Cards */
    .scholarship-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        border-radius: 1rem;
        border-left: 5px solid var(--primary-brand-red); /* A touch of color on the side */
    }
    .scholarship-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(163, 31, 52, 0.2);
    }
    .scholarship-card .card-body h5 {
        min-height: 3rem; /* Prevents layout shifting */
    }

    /* CTA section */
    .cta {
        background: linear-gradient(rgba(163, 31, 52, 0.95), rgba(163, 31, 52, 0.95)),
                    url("https://source.unsplash.com/1600x400/?books,university") center/cover no-repeat;
        color: white;
    }
</style>

<section class="hero d-flex flex-column justify-content-center align-items-center">
    <div class="container text-center">
        <h1 class="display-2 fw-bold">ScholarAid</h1>
        <p class="lead mb-4">Find scholarships. Get AI-powered feedback. Unlock opportunities.</p>
        <a href="{% url 'scholarships' %}" class="btn btn-lg btn-light px-5 py-3 rounded-pill shadow-lg">
            üîç Browse Scholarships
        </a>
    </div>
</section>

<section class="py-5">
    <div class="container text-center">
        <h2 class="fw-bold mb-5 text-primary-brand">Why Choose ScholarAid?</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-box p-4 shadow-sm rounded-4 h-100 bg-white">
                    <h3 class="fw-bold text-primary-brand">üéì Explore Scholarships</h3>
                    <p class="text-muted">Discover curated opportunities tailored to different fields and levels.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-box p-4 shadow-sm rounded-4 h-100 bg-white">
                    <h3 class="fw-bold text-primary-brand">ü§ñ AI Essay Review</h3>
                    <p class="text-muted">Get instant, smart feedback on your essays and eligibility readiness.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-box p-4 shadow-sm rounded-4 h-100 bg-white">
                    <h3 class="fw-bold text-primary-brand">‚ö° Simple & Fast</h3>
                    <p class="text-muted">No signup required ‚Äî just start browsing and improving right away.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5 bg-light-brand">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold text-primary-brand">Featured Scholarships</h2>
        <div class="row g-4">
            {% for scholarship in featured_scholarships %}
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm rounded-4 scholarship-card">
                        <div class="card-body d-flex flex-column p-4">
                            {% if scholarship.institution %}
                                <div class="text-center mb-3">
                                    <img src="{{ scholarship.logo_url }}" class="img-fluid"
                                        alt="{{ scholarship.name }}"
                                        style="max-height: 100px; object-fit: contain;">
                                </div>
                            {% endif %}
                            <h5 class="card-title fw-bold">
                                <a href="{% url 'scholarship_detail' scholarship.id %}" class="text-decoration-none text-dark">
                                    {{ scholarship.name }}
                                </a>
                            </h5>
                            <h6 class="fw-bold text-primary-brand">
                                <a href="{% url 'scholarship_detail' scholarship.id %}" class="text-decoration-none text-dark">
                                    {{ scholarship.institution }}
                                </a>
                            </h6>
                            <p class="card-text text-muted small flex-grow-1">
                                {{ scholarship.description|truncatewords:20 }}
                            </p>
                        </div>
                        <div class="card-footer bg-white border-0 d-flex justify-content-between align-items-center p-4 pt-0">
                            <small class="text-muted">‚è≥ Deadline: {{ scholarship.deadline|date:"M d, Y" }}</small>
                            <a href="{% url 'scholarship_detail' scholarship.id %}" class="btn btn-sm btn-outline-primary-brand rounded-pill">
                                Learn More
                            </a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p class="text-center text-muted">No scholarships available right now. Check back soon!</p>
            {% endfor %}
            <div class="text-center mt-4">
                <a href="{% url 'scholarships' %}" class="btn btn-primary-brand btn-lg rounded-pill">
                    View All Scholarships
                </a>
            </div>
        </div>    
    </div>
</section>

<section class="py-5 text-center cta">
    <div class="container">
        <h2 class="fw-bold mb-3 text-white">Not sure if you‚Äôre ready?</h2>
        <p class="lead mb-4 text-white">Let our AI evaluate your essay and eligibility in minutes.</p>
        <a href="{% url 'ai_review' 1 %}" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow-lg">
            üí° Try AI Review
        </a>
    </div>
</section>

<section class="py-5">
    <div class="container text-center">
        <h2 class="fw-bold mb-3 text-primary-brand">Stay Updated on Scholarships</h2>
        <p class="lead mb-4">
            Get the latest scholarships and tips delivered straight to your inbox.
        </p>
        <div class="row justify-content-center">
            <div class="col-md-6">
                <form action="{% url 'newsletter_subscribe' %}" method="post" class="d-flex flex-column flex-sm-row gap-2">
                    {% csrf_token %}
                    <input type="email" name="email" class="form-control form-control-lg rounded-pill" placeholder="Enter your email address" required>
                    <button type="submit" class="btn btn-primary-brand btn-lg rounded-pill">Subscribe</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}